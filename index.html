<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="calculator.css">
</head>
<body>
  <div class="container">

    <div class="panel">
      <h1 class="small-feed" id = "small-feed">0</h1>
      <h1 class="feed" id="myHeading">0</h1>
    </div>

    <div class="line">
      <button onclick="cal('7');" >7</button>
      <button onclick="cal('8');" >8</button>
      <button onclick="cal('9');" >9</button>
      <button onclick="s =' ' ;heading.innerText = '0' ; smallheading.innerText =  '0'" ; class="operator-button2">AC</button>
      <button onclick="cal('/');"  class="operator-button">/</button>
    </div>
    <div class="line">
      <button onclick="cal('4')" >4</button>
      <button onclick="cal('5')" >5</button>
      <button onclick="cal('6')" >6</button>
      <button onclick="concat();"  class="operator-button2">&#x232B;</button>
      <button onclick="cal('*')"  class="operator-button">*</button>
    </div>
    <div class="line">
      <button onclick="cal('1');">1</button>
      <button onclick="cal('2');">2</button>
      <button onclick="cal('3');">3</button>
      <button onclick="cal('%');" class="operator-button2">%</button>
      <button onclick="cal('-');" class="operator-button">-</button>
    </div>
    <div class="line">
      <button>E</button>
      <button onclick="cal('0');">0</button>
      <button onclick="cal('.');">.</button>
      <button onclick="equal();" class="operator-button">=</button>
      <button onclick="cal('+');" class="operator-button">+</button>
    </div>
    



  </div>

  <script>
    let s = "";

    let heading = document.getElementById("myHeading");
    let smallheading = document.getElementById("small-feed");

    let flag = true;
    function concat(){
      if(s){
        s = s.slice(0,-1);
        // console.log(s);
        smallheading.innerText = s;
        equal();
        return;
      }else{
        s = '0';
      }
      console.log(s);
      
      equal();
    }

    function cal(k) {
      flag = true;
      s += k;
      smallheading.innerText = s;
      equal();
    }

    function equal() {
      let ans = parseFloat(eval(s)); 

      if (flag) {
        heading.innerText = isFloat(ans) ? ans.toFixed(3) : parseInt(ans);
        s += "";
        flag = false;
        return;
      } else {
        s = isFloat(ans) ? ans.toFixed(3) : parseInt(ans);
        s += "";
        smallheading.innerText = s+"";
        flag = true;
      }
    }

    function isFloat(num) {
      return Number(num) === num && !Number.isInteger(num);
    }


  </script>

</body>
</html>